<!-- Page content -->
<div class="container-fluid mt--7">
    <!-- Table -->
    <div class="row">
        <div class="col">
            <div class="botonera">
                <button (click)="crearModal(crear)" type="button" class="btn btn-primary mb-3">Agregar Paciente</button>
            </div>
            <div class="card shadow">
                <div novalidate="" class="ng-untouched ng-pristine ng-valid">
                    <h6 class="heading-small text-muted mb-4 ml-lg-4 mt-4">Filtrar</h6>
                    <div class="pl-lg-4 mr-3">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="input-username">Nombre</label>
                                    <input [(ngModel)]="filter.nombre" class="form-control form-control-alternative" id="input-username" placeholder="Nombre" type="text">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="input-username">Apellido</label>
                                    <input [(ngModel)]="filter.apellido" class="form-control form-control-alternative" id="input-username" placeholder="Apellido" type="text" value="lucky.jesse">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="input-username">Usuario del sistema</label>
                                    <input [(ngModel)]="filter.usuarioSistema" class="ml-2 mt-1" id="input-username" placeholder="Username" type="checkbox">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="botonera">
                        <button (click)="limpiar()" type="button" class="btn btn-light mb-3 mr-3">Limpiar</button>
                        <button (click)="addFilter()" type="button" class="btn btn-primary mb-3 mr-3">Filtrar</button>
                    </div>
                    <hr class="my-4">
                </div>
                <div class="table-responsive">
                    <div style="height: 200px;" *ngIf="loading">
                        <div class="container--box">

                            <div class="box">
                                <div class="spinner spinner--2"></div>
                            </div>
                        </div>
                    </div>
                    <mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
                        <ng-container matColumnDef="idPersona">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> ID </mat-header-cell>
                            <mat-cell *matCellDef="let paciente"> {{paciente.idPersona}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="nombre">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </mat-header-cell>
                            <mat-cell *matCellDef="let paciente"> {{paciente.nombre}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="apellido">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Apellido </mat-header-cell>
                            <mat-cell *matCellDef="let paciente"> {{paciente.apellido}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="cedula">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Cedula </mat-header-cell>
                            <mat-cell *matCellDef="let paciente"> {{paciente.cedula}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="ruc">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> RUC </mat-header-cell>
                            <mat-cell *matCellDef="let paciente"> {{paciente.ruc}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="fechaNacimiento">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Fecha Nacimiento </mat-header-cell>
                            <mat-cell *matCellDef="let paciente"> {{paciente.fechaNacimiento}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="tipoPersona">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Tipo Persona </mat-header-cell>
                            <mat-cell *matCellDef="let paciente"> {{paciente.tipoPersona}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="telefono">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Telefono </mat-header-cell>
                            <mat-cell *matCellDef="let paciente"> {{paciente.telefono}} </mat-cell>
                        </ng-container>
                        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                    </mat-table>
                </div>
                <div class="card-footer py-4 ">
                    <nav aria-label="... ">
                        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <ng-template #crear let-modal>
        <div class="modal-header ">
            <h4 class="modal-title " id="modal-basic-title ">Agregar Paciente</h4>
            <button type="button " class="close " aria-label="Close " (click)="modal.dismiss( 'Cross click') ">
        <span aria-hidden="true ">&times;</span>
      </button>
        </div>
        <div class="modal-body ">
            <form>
                <div class="form-group " style="margin: 0px 15px 15px 15px; ">
                    <label for="nombre " class="col-form-label ">Nombre</label>
                    <input name="nombre " id="id_nombre " cols="30 " class="form-control " rows="4 " [(ngModel)]="nombre ">
                </div>
                <div class="form-group " style="margin: 0px 15px 15px 15px; ">
                    <label for="apellido " class="col-form-label ">Apellido</label>
                    <input name="apellido " id="id_apellido " cols="30 " class="form-control " rows="4 " [(ngModel)]="apellido ">
                </div>
                <div class="form-group " style="margin: 0px 15px 15px 15px; ">
                    <label for="email " class="col-form-label ">Email</label>
                    <input name="email " id="id_email " cols="30 " class="form-control " rows="4 " [(ngModel)]="email ">
                </div>
                <div class="form-group " style="margin: 0px 15px 15px 15px; ">
                    <label for="telefono " class="col-form-label ">Telefono</label>
                    <input name="telefono " id="id_telefono " cols="30 " class="form-control " rows="4 " [(ngModel)]="telefono ">
                </div>
                <div class="form-group " style="margin: 0px 15px 15px 15px; ">
                    <label for="ruc " class="col-form-label ">RUC</label>
                    <input name="ruc " id="id_ruc " cols="30 " class="form-control " rows="4 " [(ngModel)]="ruc ">
                </div>
                <div class="form-group " style="margin: 0px 15px 15px 15px; ">
                    <label for="cedula " class="col-form-label ">Cedula</label>
                    <input name="cedula " id="id_cedula " cols="30 " class="form-control " rows="4 " [(ngModel)]="cedula ">
                </div>
                <div class="form-group " style="margin: 0px 15px 15px 15px; ">
                    <label for="tipoPersona " class="col-form-label ">Tipo Persona</label>
                    <input name="tipoPersona " id="id_tipoPersona " cols="30 " class="form-control " rows="4 " [(ngModel)]="tipoPersona ">
                </div>
                <div class="form-group " style="margin: 0px 15px 15px 15px; ">
                    <label for="fechaNacimiento " class="col-form-label ">Fecha Nacimiento</label>
                    <input type="date " name="fechaNacimiento " id="id_fechaNacimiento " cols="30 " class="form-control " rows="4 " [(ngModel)]="fechaNacimiento ">
                </div>
            </form>
        </div>
        <div class="modal-footer ">
            <button type="button " class="btn btn-primary " (click)="modal.close( 'Save click') "><i class="fas fa-save "></i>
        guardar</button>
            <button type="button " class="btn btn-secondary " (click)="modal.dismiss( 'Cross click') "><i class="fas fa-times "></i>
        cancelar</button>
        </div>
    </ng-template>
</div>